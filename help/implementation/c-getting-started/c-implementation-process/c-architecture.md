---
description: Livefyreの規則と、Livefyreがコンテンツを編成する方法を説明します。
seo-description: Livefyreの規則と、Livefyreがコンテンツを編成する方法を説明します。
seo-title: アーキテクチャ
solution: Experience Manager
title: アーキテクチャ
uuid: 94358e6c-954a-4a52-9bb2-d800b2933130
translation-type: tm+mt
source-git-commit: 67aeb3de964473b326c88c3a3f81ff48a6a12652

---


# アーキテクチャ{#architecture}

Livefyreの規則と、Livefyreがコンテンツを編成する方法を説明します。

ここでは、Livefyreネットワークアーキテクチャの概要を説明します。

## ネットワークとサイトの概要

Livefyreは、ユーザーとコンテンツをネットワークおよびサイト別に整理します。 各ネットワークには1つ以上のユーザーアカウントが関連付けられ、各ネットワークには1つ以上のLivefyreサイトが含まれる場合があります。 Livefyreサイトは、コレクションの任意のグループです。 1つのコレクションは、CMS内の1つの記事IDにマッピングされます。

## ネットワークについて {#section_hqt_4m4_xz}

複数のドメインを持つ顧客は、単一のLivefyreネットワークを使用して、すべてのドメインでユーザーアカウントを共有できます。 異なるドメインに対して別々のユーザーアカウントを保持する場合は、別々のLivefyreネットワークが必要になります。

構成設定は、サイト、ネットワーク、コレクション（上の図では会話と呼ばれます）に適用できます。

>[!NOTE]
>
>一部の設定は、ネットワークレベルでのみ使用できます（電子メール通知の環境設定、電子メールの送信元アドレス、電子メールのカスタムロゴなど）。 これらの設定をドメインごとに異なるものにする場合は、複数のネットワークを使用する必要があります。

## サイトについて {#section_vjw_nm4_xz}

サイトは、記事を任意にグループ化したものです。 このグループは、異なるモデレーターを異なるコンテンツのグループに割り当てるのに役立ちます。 モデレーターと所有者は、コンテンツをモデレートし、ネットワークレベルまたはサイトレベルで管理設定を行うように設定できます。 一部のモデレーターに特定のコレクションのみを表示させる場合は、これらのコレクションを別のLivefyreサイトとして設定できます。

>[!NOTE]
>
>カスタムネットワーク下にあるサイトの数に制限はありません。

## アプリシーケンス図 {#section_mw2_lm4_xz}

Livefyreが提供するエンドポイントでカスタム関数を実装する場合でも、単に問題をデバッグする必要がある場合でも、Livefyreアプリのリクエスト/応答フローの仕組みを理解するのに役立ちます。

![](assets/appsequencediagram.png)

1. クライアントがサイトをヒットしたら、サイトIDと記事IDを使用してLivefyreアプリをインスタンス化します。
1. ユーザーを認証する場合（トラフィック評価やサイト保護に役立つ）、Livefyreにサイト情報を送信し、ユーザープロファイルトークンを送信します。
1. サイトIDと記事IDをLivefyreに送信して、アプリを初期化します。

   Livefyreは初期コンテンツを返します。

   このコンテンツをページに送信し、アプリを表示します。

1. ページに表示されるコンテンツを更新するには、ページから最新のイベントIDをLivefyreに送信します。 新しいコンテンツが存在する場合は、そのコンテンツが返されます。

   新しいコンテンツでページをリロードし、無期限にこのプロセスを繰り返します。

1. ユーザーが新しいコンテンツを投稿できるようにする場合は、サイトに新しいコンテンツが投稿されたときにイベントをトリガーして、Livefyreにコンテンツを投稿します。 Livefyreは更新されたストリームを返します。このストリームを使用して、サイトを更新できます。
